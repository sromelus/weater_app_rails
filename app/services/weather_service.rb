class WeatherService
  include HTTParty
  base_uri "api.weatherapi.com/v1"
  # fetch(`https://api.weatherapi.com/v1/forecast.json?key=${api_key}&q=${city}&days=7`)
  def initialize
    @api_key = Rails.application.credentials.weatherapi[:api_key]
    # @api_key = "b0ec7e80c19b41ae8e7200423200511"
  end

  def get_forecast(latitude, longitude)
    response = self.class.get("/forecast.json", query: {
      q: "#{latitude},#{longitude}",
      key: @api_key
    })

    if response.success?
      parse_forecast_response(response)
    else
      Rails.logger.error("Weather API Error: #{response.code} - #{response.body}")
      nil
    end
  end

  private

  def parse_forecast_response(response)
    data = response.parsed_response

    {
        city: data.dig("location", "name"),
        state: data.dig("location", "region"),
        current_temp: data.dig("current", "temp_f"),
        last_updated: data.dig("current", "last_updated"),
        feels_like: data.dig("current", "feelslike_f"),
        wind_speed: data.dig("current", "wind_mph"),
        condition: data.dig("current", "condition", "text"),
        condition_icon: data.dig("current", "condition", "icon"),
        high_temp: data.dig("forecast", "forecastday").first.dig("day", "maxtemp_f"),
        low_temp: data.dig("forecast", "forecastday").first.dig("day", "mintemp_f")
    }
  end
end



# {"location"=>
#   {"name"=>"Medford",
#    "region"=>"Massachusetts",
#    "country"=>"United States of America",
#    "lat"=>42.418,
#    "lon"=>-71.107,
#    "tz_id"=>"America/New_York",
#    "localtime_epoch"=>1736525041,
#    "localtime"=>"2025-01-10 11:04"},
#  "current"=>
#   {"last_updated_epoch"=>1736524800,
#    "last_updated"=>"2025-01-10 11:00",
#    "temp_c"=>-0.6,
#    "temp_f"=>30.9,
#    "is_day"=>1,
#    "condition"=>{"text"=>"Sunny", "icon"=>"//cdn.weatherapi.com/weather/64x64/day/113.png", "code"=>1000},
#    "wind_mph"=>11.2,
#    "wind_kph"=>18.0,
#    "wind_degree"=>304,
#    "wind_dir"=>"NW",
#    "pressure_mb"=>1011.0,
#    "pressure_in"=>29.84,
#    "precip_mm"=>0.0,
#    "precip_in"=>0.0,
#    "humidity"=>51,
#    "cloud"=>0,
#    "feelslike_c"=>-5.7,
#    "feelslike_f"=>21.8,
#    "vis_km"=>16.0,
#    "vis_miles"=>9.0,
#    "uv"=>1.4,
#    "gust_mph"=>14.0,
#    "gust_kph"=>22.5},
#  "forecast"=>
#   {"forecastday"=>
#     [{"date"=>"2025-01-10",
#       "date_epoch"=>1736467200,
#       "day"=>
#        {"maxtemp_c"=>3.4,
#         "maxtemp_f"=>38.1,
#         "mintemp_c"=>-6.6,
#         "mintemp_f"=>20.1,
#         "avgtemp_c"=>-2.6,
#         "avgtemp_f"=>27.3,
#         "maxwind_mph"=>15.7,
#         "maxwind_kph"=>25.2,
#         "totalprecip_mm"=>0.0,
#         "totalprecip_in"=>0.0,
#         "totalsnow_cm"=>0.0,
#         "avgvis_km"=>10.0,
#         "avgvis_miles"=>6.0,
#         "avghumidity"=>65,
#         "daily_will_it_rain"=>0,
#         "daily_chance_of_rain"=>0,
#         "daily_will_it_snow"=>0,
#         "daily_chance_of_snow"=>0,
#         "condition"=>{"text"=>"Sunny", "icon"=>"//cdn.weatherapi.com/weather/64x64/day/113.png", "code"=>1000},
#         "uv"=>0.3},
#       "astro"=>
#        {"sunrise"=>"07:13 AM",
#         "sunset"=>"04:31 PM",
#         "moonrise"=>"01:04 PM",
#         "moonset"=>"04:14 AM",
#         "moon_phase"=>"Waxing Gibbous",
#         "moon_illumination"=>82,
#         "is_moon_up"=>1,
#         "is_sun_up"=>0},
#       "hour"=>
#        [{"time_epoch"=>1736485200,
#          "time"=>"2025-01-10 00:00",
#          "temp_c"=>-5.5,
#          "temp_f"=>22.1,
#          "is_day"=>0,
#          "condition"=>{"text"=>"Clear ", "icon"=>"//cdn.weatherapi.com/weather/64x64/night/113.png", "code"=>1000},
#          "wind_mph"=>15.7,
#          "wind_kph"=>25.2,
#          "wind_degree"=>314,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1005.0,
#          "pressure_in"=>29.69,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>66,
#          "cloud"=>0,
#          "feelslike_c"=>-14.0,
#          "feelslike_f"=>6.7,
#          "windchill_c"=>-14.0,
#          "windchill_f"=>6.7,
#          "heatindex_c"=>-5.5,
#          "heatindex_f"=>22.1,
#          "dewpoint_c"=>-10.9,
#          "dewpoint_f"=>12.5,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>22.1,
#          "gust_kph"=>35.5,
#          "uv"=>0},
#         {"time_epoch"=>1736488800,
#          "time"=>"2025-01-10 01:00",
#          "temp_c"=>-5.7,
#          "temp_f"=>21.7,
#          "is_day"=>0,
#          "condition"=>{"text"=>"Clear ", "icon"=>"//cdn.weatherapi.com/weather/64x64/night/113.png", "code"=>1000},
#          "wind_mph"=>15.0,
#          "wind_kph"=>24.1,
#          "wind_degree"=>312,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1006.0,
#          "pressure_in"=>29.71,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>66,
#          "cloud"=>0,
#          "feelslike_c"=>-14.2,
#          "feelslike_f"=>6.5,
#          "windchill_c"=>-14.2,
#          "windchill_f"=>6.5,
#          "heatindex_c"=>-5.7,
#          "heatindex_f"=>21.7,
#          "dewpoint_c"=>-10.9,
#          "dewpoint_f"=>12.3,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>21.4,
#          "gust_kph"=>34.4,
#          "uv"=>0},
#         {"time_epoch"=>1736492400,
#          "time"=>"2025-01-10 02:00",
#          "temp_c"=>-5.8,
#          "temp_f"=>21.5,
#          "is_day"=>0,
#          "condition"=>{"text"=>"Clear ", "icon"=>"//cdn.weatherapi.com/weather/64x64/night/113.png", "code"=>1000},
#          "wind_mph"=>14.8,
#          "wind_kph"=>23.8,
#          "wind_degree"=>311,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1007.0,
#          "pressure_in"=>29.72,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>67,
#          "cloud"=>0,
#          "feelslike_c"=>-14.2,
#          "feelslike_f"=>6.4,
#          "windchill_c"=>-14.2,
#          "windchill_f"=>6.4,
#          "heatindex_c"=>-5.8,
#          "heatindex_f"=>21.5,
#          "dewpoint_c"=>-10.9,
#          "dewpoint_f"=>12.3,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>21.3,
#          "gust_kph"=>34.3,
#          "uv"=>0},
#         {"time_epoch"=>1736496000,
#          "time"=>"2025-01-10 03:00",
#          "temp_c"=>-6.0,
#          "temp_f"=>21.2,
#          "is_day"=>0,
#          "condition"=>{"text"=>"Clear ", "icon"=>"//cdn.weatherapi.com/weather/64x64/night/113.png", "code"=>1000},
#          "wind_mph"=>14.1,
#          "wind_kph"=>22.7,
#          "wind_degree"=>314,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1007.0,
#          "pressure_in"=>29.74,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>68,
#          "cloud"=>0,
#          "feelslike_c"=>-14.3,
#          "feelslike_f"=>6.3,
#          "windchill_c"=>-14.3,
#          "windchill_f"=>6.3,
#          "heatindex_c"=>-6.0,
#          "heatindex_f"=>21.2,
#          "dewpoint_c"=>-10.8,
#          "dewpoint_f"=>12.5,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>20.8,
#          "gust_kph"=>33.5,
#          "uv"=>0},
#         {"time_epoch"=>1736499600,
#          "time"=>"2025-01-10 04:00",
#          "temp_c"=>-6.2,
#          "temp_f"=>20.9,
#          "is_day"=>0,
#          "condition"=>{"text"=>"Clear ", "icon"=>"//cdn.weatherapi.com/weather/64x64/night/113.png", "code"=>1000},
#          "wind_mph"=>13.9,
#          "wind_kph"=>22.3,
#          "wind_degree"=>314,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1007.0,
#          "pressure_in"=>29.75,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>69,
#          "cloud"=>0,
#          "feelslike_c"=>-14.3,
#          "feelslike_f"=>6.2,
#          "windchill_c"=>-14.3,
#          "windchill_f"=>6.2,
#          "heatindex_c"=>-6.2,
#          "heatindex_f"=>20.9,
#          "dewpoint_c"=>-10.9,
#          "dewpoint_f"=>12.5,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>20.8,
#          "gust_kph"=>33.4,
#          "uv"=>0},
#         {"time_epoch"=>1736503200,
#          "time"=>"2025-01-10 05:00",
#          "temp_c"=>-6.2,
#          "temp_f"=>20.8,
#          "is_day"=>0,
#          "condition"=>{"text"=>"Clear ", "icon"=>"//cdn.weatherapi.com/weather/64x64/night/113.png", "code"=>1000},
#          "wind_mph"=>13.6,
#          "wind_kph"=>22.0,
#          "wind_degree"=>313,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1008.0,
#          "pressure_in"=>29.76,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>70,
#          "cloud"=>0,
#          "feelslike_c"=>-14.4,
#          "feelslike_f"=>6.1,
#          "windchill_c"=>-14.4,
#          "windchill_f"=>6.1,
#          "heatindex_c"=>-6.2,
#          "heatindex_f"=>20.8,
#          "dewpoint_c"=>-10.8,
#          "dewpoint_f"=>12.5,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>20.4,
#          "gust_kph"=>32.8,
#          "uv"=>0},
#         {"time_epoch"=>1736506800,
#          "time"=>"2025-01-10 06:00",
#          "temp_c"=>-6.3,
#          "temp_f"=>20.6,
#          "is_day"=>0,
#          "condition"=>{"text"=>"Clear ", "icon"=>"//cdn.weatherapi.com/weather/64x64/night/113.png", "code"=>1000},
#          "wind_mph"=>13.0,
#          "wind_kph"=>20.9,
#          "wind_degree"=>314,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1009.0,
#          "pressure_in"=>29.79,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>70,
#          "cloud"=>0,
#          "feelslike_c"=>-14.4,
#          "feelslike_f"=>6.1,
#          "windchill_c"=>-14.4,
#          "windchill_f"=>6.1,
#          "heatindex_c"=>-6.3,
#          "heatindex_f"=>20.6,
#          "dewpoint_c"=>-10.8,
#          "dewpoint_f"=>12.6,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>19.3,
#          "gust_kph"=>31.0,
#          "uv"=>0},
#         {"time_epoch"=>1736510400,
#          "time"=>"2025-01-10 07:00",
#          "temp_c"=>-6.5,
#          "temp_f"=>20.4,
#          "is_day"=>0,
#          "condition"=>{"text"=>"Clear ", "icon"=>"//cdn.weatherapi.com/weather/64x64/night/113.png", "code"=>1000},
#          "wind_mph"=>12.3,
#          "wind_kph"=>19.8,
#          "wind_degree"=>312,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1010.0,
#          "pressure_in"=>29.82,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>71,
#          "cloud"=>0,
#          "feelslike_c"=>-14.4,
#          "feelslike_f"=>6.1,
#          "windchill_c"=>-14.4,
#          "windchill_f"=>6.1,
#          "heatindex_c"=>-6.5,
#          "heatindex_f"=>20.4,
#          "dewpoint_c"=>-10.8,
#          "dewpoint_f"=>12.5,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>18.7,
#          "gust_kph"=>30.1,
#          "uv"=>0},
#         {"time_epoch"=>1736514000,
#          "time"=>"2025-01-10 08:00",
#          "temp_c"=>-6.4,
#          "temp_f"=>20.5,
#          "is_day"=>1,
#          "condition"=>{"text"=>"Sunny", "icon"=>"//cdn.weatherapi.com/weather/64x64/day/113.png", "code"=>1000},
#          "wind_mph"=>10.7,
#          "wind_kph"=>17.3,
#          "wind_degree"=>312,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1010.0,
#          "pressure_in"=>29.83,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>71,
#          "cloud"=>0,
#          "feelslike_c"=>-14.3,
#          "feelslike_f"=>6.3,
#          "windchill_c"=>-14.3,
#          "windchill_f"=>6.3,
#          "heatindex_c"=>-6.4,
#          "heatindex_f"=>20.5,
#          "dewpoint_c"=>-10.9,
#          "dewpoint_f"=>12.4,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>16.8,
#          "gust_kph"=>27.0,
#          "uv"=>0.2},
#         {"time_epoch"=>1736517600,
#          "time"=>"2025-01-10 09:00",
#          "temp_c"=>-5.8,
#          "temp_f"=>21.6,
#          "is_day"=>1,
#          "condition"=>{"text"=>"Sunny", "icon"=>"//cdn.weatherapi.com/weather/64x64/day/113.png", "code"=>1000},
#          "wind_mph"=>9.8,
#          "wind_kph"=>15.8,
#          "wind_degree"=>305,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1009.0,
#          "pressure_in"=>29.8,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>72,
#          "cloud"=>0,
#          "feelslike_c"=>-13.5,
#          "feelslike_f"=>7.6,
#          "windchill_c"=>-13.5,
#          "windchill_f"=>7.6,
#          "heatindex_c"=>-5.8,
#          "heatindex_f"=>21.6,
#          "dewpoint_c"=>-10.5,
#          "dewpoint_f"=>13.2,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>14.7,
#          "gust_kph"=>23.7,
#          "uv"=>0.5},
#         {"time_epoch"=>1736521200,
#          "time"=>"2025-01-10 10:00",
#          "temp_c"=>-3.4,
#          "temp_f"=>25.9,
#          "is_day"=>1,
#          "condition"=>{"text"=>"Sunny", "icon"=>"//cdn.weatherapi.com/weather/64x64/day/113.png", "code"=>1000},
#          "wind_mph"=>10.3,
#          "wind_kph"=>16.6,
#          "wind_degree"=>295,
#          "wind_dir"=>"WNW",
#          "pressure_mb"=>1010.0,
#          "pressure_in"=>29.84,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>67,
#          "cloud"=>0,
#          "feelslike_c"=>-10.4,
#          "feelslike_f"=>13.2,
#          "windchill_c"=>-10.4,
#          "windchill_f"=>13.2,
#          "heatindex_c"=>-3.4,
#          "heatindex_f"=>25.9,
#          "dewpoint_c"=>-10.3,
#          "dewpoint_f"=>13.5,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>13.8,
#          "gust_kph"=>22.2,
#          "uv"=>1.0},
#         {"time_epoch"=>1736524800,
#          "time"=>"2025-01-10 11:00",
#          "temp_c"=>-0.6,
#          "temp_f"=>30.9,
#          "is_day"=>1,
#          "condition"=>{"text"=>"Sunny", "icon"=>"//cdn.weatherapi.com/weather/64x64/day/113.png", "code"=>1000},
#          "wind_mph"=>11.2,
#          "wind_kph"=>18.0,
#          "wind_degree"=>304,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1011.0,
#          "pressure_in"=>29.84,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>51,
#          "cloud"=>0,
#          "feelslike_c"=>-8.0,
#          "feelslike_f"=>17.5,
#          "windchill_c"=>-8.0,
#          "windchill_f"=>17.5,
#          "heatindex_c"=>-1.5,
#          "heatindex_f"=>29.3,
#          "dewpoint_c"=>-6.7,
#          "dewpoint_f"=>20.0,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>16.0,
#          "vis_miles"=>9.0,
#          "gust_mph"=>14.0,
#          "gust_kph"=>22.5,
#          "uv"=>1.4},
#         {"time_epoch"=>1736528400,
#          "time"=>"2025-01-10 12:00",
#          "temp_c"=>0.1,
#          "temp_f"=>32.1,
#          "is_day"=>1,
#          "condition"=>{"text"=>"Sunny", "icon"=>"//cdn.weatherapi.com/weather/64x64/day/113.png", "code"=>1000},
#          "wind_mph"=>11.6,
#          "wind_kph"=>18.7,
#          "wind_degree"=>315,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1010.0,
#          "pressure_in"=>29.82,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>59,
#          "cloud"=>0,
#          "feelslike_c"=>-5.9,
#          "feelslike_f"=>21.4,
#          "windchill_c"=>-5.9,
#          "windchill_f"=>21.4,
#          "heatindex_c"=>0.1,
#          "heatindex_f"=>32.1,
#          "dewpoint_c"=>-6.6,
#          "dewpoint_f"=>20.1,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>14.1,
#          "gust_kph"=>22.7,
#          "uv"=>1.5},
#         {"time_epoch"=>1736532000,
#          "time"=>"2025-01-10 13:00",
#          "temp_c"=>1.5,
#          "temp_f"=>34.7,
#          "is_day"=>1,
#          "condition"=>{"text"=>"Sunny", "icon"=>"//cdn.weatherapi.com/weather/64x64/day/113.png", "code"=>1000},
#          "wind_mph"=>12.1,
#          "wind_kph"=>19.4,
#          "wind_degree"=>320,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1009.0,
#          "pressure_in"=>29.78,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>57,
#          "cloud"=>0,
#          "feelslike_c"=>-4.0,
#          "feelslike_f"=>24.7,
#          "windchill_c"=>-4.0,
#          "windchill_f"=>24.7,
#          "heatindex_c"=>1.5,
#          "heatindex_f"=>34.7,
#          "dewpoint_c"=>-6.1,
#          "dewpoint_f"=>21.1,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>14.7,
#          "gust_kph"=>23.6,
#          "uv"=>1.2},
#         {"time_epoch"=>1736535600,
#          "time"=>"2025-01-10 14:00",
#          "temp_c"=>2.4,
#          "temp_f"=>36.4,
#          "is_day"=>1,
#          "condition"=>{"text"=>"Sunny", "icon"=>"//cdn.weatherapi.com/weather/64x64/day/113.png", "code"=>1000},
#          "wind_mph"=>11.0,
#          "wind_kph"=>17.6,
#          "wind_degree"=>322,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1010.0,
#          "pressure_in"=>29.84,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>57,
#          "cloud"=>0,
#          "feelslike_c"=>-2.8,
#          "feelslike_f"=>27.0,
#          "windchill_c"=>-2.8,
#          "windchill_f"=>27.0,
#          "heatindex_c"=>2.4,
#          "heatindex_f"=>36.4,
#          "dewpoint_c"=>-4.8,
#          "dewpoint_f"=>23.4,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>13.6,
#          "gust_kph"=>21.9,
#          "uv"=>0.8},
#         {"time_epoch"=>1736539200,
#          "time"=>"2025-01-10 15:00",
#          "temp_c"=>2.9,
#          "temp_f"=>37.3,
#          "is_day"=>1,
#          "condition"=>{"text"=>"Sunny", "icon"=>"//cdn.weatherapi.com/weather/64x64/day/113.png", "code"=>1000},
#          "wind_mph"=>10.3,
#          "wind_kph"=>16.6,
#          "wind_degree"=>320,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1009.0,
#          "pressure_in"=>29.8,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>53,
#          "cloud"=>0,
#          "feelslike_c"=>-2.0,
#          "feelslike_f"=>28.4,
#          "windchill_c"=>-2.0,
#          "windchill_f"=>28.4,
#          "heatindex_c"=>2.9,
#          "heatindex_f"=>37.3,
#          "dewpoint_c"=>-5.3,
#          "dewpoint_f"=>22.5,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>13.3,
#          "gust_kph"=>21.4,
#          "uv"=>0.3},
#         {"time_epoch"=>1736542800,
#          "time"=>"2025-01-10 16:00",
#          "temp_c"=>2.9,
#          "temp_f"=>37.1,
#          "is_day"=>1,
#          "condition"=>{"text"=>"Sunny", "icon"=>"//cdn.weatherapi.com/weather/64x64/day/113.png", "code"=>1000},
#          "wind_mph"=>9.2,
#          "wind_kph"=>14.8,
#          "wind_degree"=>321,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1009.0,
#          "pressure_in"=>29.79,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>54,
#          "cloud"=>0,
#          "feelslike_c"=>-1.8,
#          "feelslike_f"=>28.8,
#          "windchill_c"=>-1.8,
#          "windchill_f"=>28.8,
#          "heatindex_c"=>2.9,
#          "heatindex_f"=>37.1,
#          "dewpoint_c"=>-5.0,
#          "dewpoint_f"=>23.1,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>13.0,
#          "gust_kph"=>21.0,
#          "uv"=>0.0},
#         {"time_epoch"=>1736546400,
#          "time"=>"2025-01-10 17:00",
#          "temp_c"=>2.2,
#          "temp_f"=>35.9,
#          "is_day"=>0,
#          "condition"=>{"text"=>"Clear ", "icon"=>"//cdn.weatherapi.com/weather/64x64/night/113.png", "code"=>1000},
#          "wind_mph"=>6.7,
#          "wind_kph"=>10.8,
#          "wind_degree"=>325,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1010.0,
#          "pressure_in"=>29.81,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>60,
#          "cloud"=>3,
#          "feelslike_c"=>-2.5,
#          "feelslike_f"=>27.5,
#          "windchill_c"=>-2.5,
#          "windchill_f"=>27.5,
#          "heatindex_c"=>2.2,
#          "heatindex_f"=>35.9,
#          "dewpoint_c"=>-4.2,
#          "dewpoint_f"=>24.5,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>11.3,
#          "gust_kph"=>18.1,
#          "uv"=>0},
#         {"time_epoch"=>1736550000,
#          "time"=>"2025-01-10 18:00",
#          "temp_c"=>1.5,
#          "temp_f"=>34.8,
#          "is_day"=>0,
#          "condition"=>{"text"=>"Clear ", "icon"=>"//cdn.weatherapi.com/weather/64x64/night/113.png", "code"=>1000},
#          "wind_mph"=>4.5,
#          "wind_kph"=>7.2,
#          "wind_degree"=>320,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1009.0,
#          "pressure_in"=>29.8,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>64,
#          "cloud"=>0,
#          "feelslike_c"=>-3.2,
#          "feelslike_f"=>26.3,
#          "windchill_c"=>-3.2,
#          "windchill_f"=>26.3,
#          "heatindex_c"=>1.5,
#          "heatindex_f"=>34.8,
#          "dewpoint_c"=>-4.6,
#          "dewpoint_f"=>23.8,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>8.7,
#          "gust_kph"=>14.1,
#          "uv"=>0},
#         {"time_epoch"=>1736553600,
#          "time"=>"2025-01-10 19:00",
#          "temp_c"=>-0.4,
#          "temp_f"=>31.3,
#          "is_day"=>0,
#          "condition"=>{"text"=>"Clear ", "icon"=>"//cdn.weatherapi.com/weather/64x64/night/113.png", "code"=>1000},
#          "wind_mph"=>4.3,
#          "wind_kph"=>6.8,
#          "wind_degree"=>315,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1009.0,
#          "pressure_in"=>29.81,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>67,
#          "cloud"=>0,
#          "feelslike_c"=>-5.4,
#          "feelslike_f"=>22.4,
#          "windchill_c"=>-5.4,
#          "windchill_f"=>22.4,
#          "heatindex_c"=>-0.4,
#          "heatindex_f"=>31.3,
#          "dewpoint_c"=>-4.5,
#          "dewpoint_f"=>23.9,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>8.1,
#          "gust_kph"=>13.1,
#          "uv"=>0},
#         {"time_epoch"=>1736557200,
#          "time"=>"2025-01-10 20:00",
#          "temp_c"=>-1.7,
#          "temp_f"=>29.0,
#          "is_day"=>0,
#          "condition"=>{"text"=>"Clear ", "icon"=>"//cdn.weatherapi.com/weather/64x64/night/113.png", "code"=>1000},
#          "wind_mph"=>4.5,
#          "wind_kph"=>7.2,
#          "wind_degree"=>311,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1010.0,
#          "pressure_in"=>29.83,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>65,
#          "cloud"=>0,
#          "feelslike_c"=>-6.7,
#          "feelslike_f"=>19.9,
#          "windchill_c"=>-6.7,
#          "windchill_f"=>19.9,
#          "heatindex_c"=>-1.7,
#          "heatindex_f"=>29.0,
#          "dewpoint_c"=>-7.9,
#          "dewpoint_f"=>17.7,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>8.1,
#          "gust_kph"=>13.0,
#          "uv"=>0},
#         {"time_epoch"=>1736560800,
#          "time"=>"2025-01-10 21:00",
#          "temp_c"=>-2.6,
#          "temp_f"=>27.3,
#          "is_day"=>0,
#          "condition"=>{"text"=>"Clear ", "icon"=>"//cdn.weatherapi.com/weather/64x64/night/113.png", "code"=>1000},
#          "wind_mph"=>3.1,
#          "wind_kph"=>5.0,
#          "wind_degree"=>324,
#          "wind_dir"=>"NW",
#          "pressure_mb"=>1010.0,
#          "pressure_in"=>29.83,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>72,
#          "cloud"=>0,
#          "feelslike_c"=>-7.6,
#          "feelslike_f"=>18.4,
#          "windchill_c"=>-7.6,
#          "windchill_f"=>18.4,
#          "heatindex_c"=>-2.6,
#          "heatindex_f"=>27.3,
#          "dewpoint_c"=>-7.3,
#          "dewpoint_f"=>18.9,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>5.5,
#          "gust_kph"=>8.9,
#          "uv"=>0},
#         {"time_epoch"=>1736564400,
#          "time"=>"2025-01-10 22:00",
#          "temp_c"=>-2.9,
#          "temp_f"=>26.8,
#          "is_day"=>0,
#          "condition"=>{"text"=>"Clear ", "icon"=>"//cdn.weatherapi.com/weather/64x64/night/113.png", "code"=>1000},
#          "wind_mph"=>3.6,
#          "wind_kph"=>5.8,
#          "wind_degree"=>326,
#          "wind_dir"=>"NNW",
#          "pressure_mb"=>1010.0,
#          "pressure_in"=>29.83,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>75,
#          "cloud"=>0,
#          "feelslike_c"=>-7.9,
#          "feelslike_f"=>17.9,
#          "windchill_c"=>-7.9,
#          "windchill_f"=>17.9,
#          "heatindex_c"=>-2.9,
#          "heatindex_f"=>26.8,
#          "dewpoint_c"=>-7.3,
#          "dewpoint_f"=>18.8,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>6.1,
#          "gust_kph"=>9.8,
#          "uv"=>0},
#         {"time_epoch"=>1736568000,
#          "time"=>"2025-01-10 23:00",
#          "temp_c"=>-3.6,
#          "temp_f"=>25.4,
#          "is_day"=>0,
#          "condition"=>{"text"=>"Partly Cloudy ", "icon"=>"//cdn.weatherapi.com/weather/64x64/night/116.png", "code"=>1003},
#          "wind_mph"=>2.2,
#          "wind_kph"=>3.6,
#          "wind_degree"=>349,
#          "wind_dir"=>"N",
#          "pressure_mb"=>1010.0,
#          "pressure_in"=>29.81,
#          "precip_mm"=>0.0,
#          "precip_in"=>0.0,
#          "snow_cm"=>0.0,
#          "humidity"=>65,
#          "cloud"=>55,
#          "feelslike_c"=>-8.2,
#          "feelslike_f"=>17.3,
#          "windchill_c"=>-8.2,
#          "windchill_f"=>17.3,
#          "heatindex_c"=>-3.6,
#          "heatindex_f"=>25.4,
#          "dewpoint_c"=>-8.9,
#          "dewpoint_f"=>16.0,
#          "will_it_rain"=>0,
#          "chance_of_rain"=>0,
#          "will_it_snow"=>0,
#          "chance_of_snow"=>0,
#          "vis_km"=>10.0,
#          "vis_miles"=>6.0,
#          "gust_mph"=>3.7,
#          "gust_kph"=>6.0,
#          "uv"=>0}]}]}}
